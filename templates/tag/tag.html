{% extends 'base.html' %}
{% import '_macros/widgets.html' as widgets with context %}

{% block content %}
    <section>
        <div class="flex">
            <h2 class="page-title space-right-10">{{ tag.name }}</h2>
{#            <button class="btn btn-small"><span class="icon icon-star"></span> {% trans %}Pin{% endtrans %}</button>#}
            <span class="flex-grow-1"></span>
            <a href="{{ url('tag.edit', args=[tag.id, tag.slug]) }}" class="btn btn-primary btn-small min-xs"><span class="icon icon-pencil"></span> {% trans %}Edit Tag{% endtrans %}</a>
        </div>
        {% if tag.html %}
            <div>{{ tag.html|safe }}</div>
        {% endif %}
        {% if tag_children_list %}
            <div class="space-top-10">
                <div class="tl-simple">{{ widgets.tag_list(tag_children_list) }}</div>
            </div>
        {% endif %}
    </section>
    {% if tag_parent_list %}
        <section class="tl">
            {% for tag_p in tag_parent_list %}
                <div class="tli-wrapper">
                    <a href="{{ url('tag', args=[tag_p.id, tag_p.slug]) }}" class="tli" title="{{ tag_p.name }}">
                        <span class="tli-name">{{ tag_p.name }}</span>
                        <span class="badge space-left-5">{{ tag_p.count }}</span>
                        {% if tag_p.children_list %}
                            <div class="tl-simple">{{ widgets.tag_list(tag_p.children_list) }}</div>
                        {% endif %}
                    </a>
                </div>
            {% endfor %}
        </section>
    {% endif %}
    {% if video_list %}
        <section class="vl">
            {% for video in video_list %}
                {{ widgets.video(video) }}
            {% endfor %}
        </section>
    {% endif %}
{% endblock %}
