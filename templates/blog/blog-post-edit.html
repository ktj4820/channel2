{% extends 'base.html' %}
{% import '_macros/forms.html' as forms with context %}

{% block content %}
    <div class="page-header space-bottom-15">
        {% if blog_post %}
            <h2 class="page-title">{{ blog_post.title }}</h2>
        {% else %}
            <h2 class="page-title">{% trans %}Create New Post{% endtrans %}</h2>
        {% endif %}
    </div>
    <form action="" method="post" enctype="multipart/form-data">
        {{ forms.csrf_input() }}
        {{ forms.field(form.title) }}
        {{ forms.field(form.markdown, show_label=False) }}
        <div class="markdown markdown-preview" data-for="id_markdown"></div>
        <div class="space-top-15">
            <button class="btn btn-primary" name="action" value="save">{% trans %}Save{% endtrans %}</button>
            {% if blog_post %}
                <button class="btn btn-error space-left-10" name="action" value="delete">{% trans %}Delete{% endtrans %}</button>
            {% endif %}
        </div>
    </form>
{% endblock %}
